import Head from 'next/head'
import { Inter } from '@next/font/google'
import styles from '@/styles/Home.module.css'
import {usePrivy} from '@privy-io/react-auth';
import Form from "./components/Form"
import Image from "next/image"
import pinnie from "../../public/Pinnie.svg"

const inter = Inter({ subsets: ['latin'] })

export default function Home() {

   const { login, ready, authenticated } = usePrivy()

    if (!ready) {
        // Do nothing while the PrivyProvider initializes with updated user state
        return <></>;
    }

  return (
    <>
      <Head>
        <title>Pinata NFT Minter</title>
        <meta name='description' content='Generated by create next app' />
        <meta name='viewport' content='width=device-width, initial-scale=1' />
        <link rel='icon' href='/favicon.ico' />
      </Head>
      <main className={styles.main}>
        <div className={styles.container}>
        <Image src={pinnie} alt="Pinnie Logo" height={75} />
        <h1 className={inter.className}>Pinata NFT Minter</h1>
        {!authenticated && ready && (
          <button className={styles.loginButton} onClick={login}>Login</button>
        )}
        {authenticated && ready && (
          <Form />
        )}
        </div>
      </main>
    </>
  )
}
